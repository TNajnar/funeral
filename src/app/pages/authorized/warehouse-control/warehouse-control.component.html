@if (_warehouseService.warehouseItems.length) {
  <app-button-primary class="self-end mb-5" (click)="toggleModal()">
    {{ _texts.addNewItem }}
  </app-button-primary>

  <table class="w-full border-collapse border border-white">
    <thead class="border">
      <tr>
        <th>{{ _texts.date }}</th>
        <th>{{ _texts.coffinType }}</th>
        <th>{{ _texts.name }}</th>
        <th>{{ _texts.profit }}</th>
        <th>{{ _texts.outcome }}</th>
        <th class="w-7"></th>   <!-- flag item -->
        <th class="w-7"></th>   <!-- Add note to item -->
        <th class="w-7"></th>   <!-- Delete item -->
      </tr>
    </thead>
  
    <tbody class="border">
      @for (_wareItem of _warehouseService.warehouseItems; track _wareItem.id) {
        <tr>
          <td>
            <input
              type="date"
              name="date"
              id="date"
              [value]="_wareItem.date"
            />
          </td>
          <td>
            <input
              type="text"
              name="coffinType"
              id="coffinType"
              value="{{ _wareItem.coffinType }}"
            />
          </td>
          <td>
            <input
              type="text"
              name="name"
              id="name"
              value="{{ _wareItem.name }}"
            />
          </td>
          <td>
            <input
              type="text"
              name="profit"
              id="profit"
              value="{{ _wareItem.profit }}"
            />
          </td>
          <td>
            <input
              type="text"
              name="outcome"
              id="outcome"
              value="{{ _wareItem.outcome }}"
            />
          </td>
          <td><mat-icon class="icon" fontIcon="outlined_flag" /> <!-- flag --></td>
          <td><mat-icon class="icon" fontIcon="chat_bubble" /></td>
          <td>
            <mat-icon
              class="icon"
              fontIcon="delete"
              (click)="deleteWarehouseItem(_wareItem.id)"
            />
          </td>
        </tr>
      }
    </tbody>
  </table>
} @else {
  <app-button-primary class="self-center" (click)="toggleModal()">
    {{ _texts.addNewItem }}
  </app-button-primary>
}

@if (isModalOpen()) {
  <app-modal [title]="'Pridej polozku'" (onClose)="toggleModal()">
    <app-add-new-warehouse-item (onCancel)="toggleModal()" />
  </app-modal>
}

<div class="mt-10">
  <app-button-primary (click)="_authService.logoutUser()">
    Logout
  </app-button-primary>
</div>
